<!doctype html>
<html>
	<head>
		<title>OpenLoopz</title>
		<link rel="stylesheet" type="text/css" href="/assets/css/app.css"/>
		<link rel="stylesheet" type="text/css" href="/lib/bootstrap/dist/css/bootstrap.css"/>
		<link rel="stylesheet" type="text/css" href="/lib/growl/stylesheets/jquery.growl.css"/>
		<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Libre+Baskerville:400,400italic|EB+Garamond" >
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,600,700,300,800' rel='stylesheet' type='text/css'>

		<script type="text/javascript" src="lib/jquery/dist/jquery.js"></script>				 
		<script type="text/javascript" src="lib/jqueryui/ui/jquery-ui.js"></script>				 
		<script type="text/javascript" src="lib/jquery-cookie/jquery.cookie.js"></script>				 
		<script type="text/javascript" src="lib/jquery-flippy/jquery.flippy.min.js"></script>				 
		<script type="text/javascript" src="lib/bootstrap/dist/js/bootstrap.js"></script>				 
		<script type="text/javascript" src="lib/underscore/underscore.js"></script>				 
		<script type="text/javascript" src="lib/backbone/backbone.js"></script>				 
		<script type="text/javascript" src="lib/backbone.paginator/lib/backbone.paginator.js"></script>				 
		<script type="text/javascript" src="lib/sockjs/sockjs.js"></script>				 
		<script type="text/javascript" src="lib/stomp-websocket/dist/stomp.js"></script>				 
		<script type="text/javascript" src="lib/ckeditor/ckeditor.js"></script>
		<script type="text/javascript" src="lib/ckeditor/adapters/jquery.js"></script>				 
		<script type="text/javascript" src="lib/growl/javascripts/jquery.growl.js"></script>				 
		<script type="text/javascript" src="lib/moment/min/moment.min.js"></script>				 
		<script type="text/javascript" src="lib/mousetrap/mousetrap.min.js"></script>				 
		<script type="text/javascript" src="lib/uuid/uuid.js"></script>
		<script type="text/javascript" src="lib/showdown/showdown.js"></script>				 
		<script type="text/javascript" src="lib/raphael/raphael-min.js"></script>				 

		<script type="text/javascript" src="app/TagString.js"></script>
		<script type="text/javascript" src="app/AppView.js"></script>
		<script type="text/javascript" src="app/LoginView.js"></script>
		<script type="text/javascript" src="app/ListSettingItemView.js"></script>
		<script type="text/javascript" src="app/NotificationView.js"></script>
		<script type="text/javascript" src="app/NotificationItemView.js"></script>
		<script type="text/javascript" src="app/LoopEditor.js"></script>
		<script type="text/javascript" src="app/UnibarModel.js"></script>
		<script type="text/javascript" src="app/UnibarView.js"></script>
		<script type="text/javascript" src="app/LoopModel.js"></script>
		<script type="text/javascript" src="app/LoopCollection.js"></script>
		<script type="text/javascript" src="app/AbstractLoopView.js"></script>
		<script type="text/javascript" src="app/LoopItemView.js"></script>
		<script type="text/javascript" src="app/LoopListView.js"></script>
		<script type="text/javascript" src="app/InnerLoopListView.js"></script>
		<script type="text/javascript" src="app/InnerLoopItemView.js"></script>
		<script type="text/javascript" src="app/LoopView.js"></script>
		<script type="text/javascript" src="app/Router.js"></script>
		<script type="text/javascript" src="app/main.js"></script>
		
		<script type="text/html" id="login-template">
		<form id="loginForm" name="f" action="login" method="post" class="form-horizontal">
    		<fieldset>
        		<legend>Login to my account</legend>
        			<div class="alert alert-error hide" id="login-invalid">
            		<strong>Woops!</strong>  Your username or password is invalid.
        			</div>
        		<div class="control-group">
            		<label for="j_username" class="control-label">Username</label>
            		<div class="controls"><input type="text" id="j_username" name="username" value="" autocomplete="off"/></div>
        		</div>
        		<div class="control-group">
            		<label for="j_password" class="control-label">Password</label>
            		<div class="controls"><input type="password" id="j_password" name="password" value=""/></div>
        		</div>
        		<div class="form-actions">
            		<button type="submit" class="btn">Login</button>
        		</div>
    		</fieldset>
		</form>
		</script>
		 
    	<script type="text/html" id="loop-template">
		<div id='loop-search-view'>
			<button id='loop-settings-button' type="button" class="pull-left btn btn-default btn-xs"><span class="glyphicon glyphicon-chevron-left"></span></button>
			<a href='#outerloop'><img class='logo pull-left' src='assets/images/openloopz-logo.png' /></a>
			<div id="notification-box-container"></div>
			<div class="pull-right user-box">
				<span class="user-image"/>
				<div class="btn-group">
				<button id="app-settings-button" type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown"> <span class="caret"></span></button>
					<ul class="dropdown-menu" role="menu">
    				<li><a href="#">Action</a></li>
    				<li><a href="#">Another action</a></li>
    				<li><a href="#">Something else here</a></li>
    				<li class="divider"></li>
    				<li><a href="/logout">Logout</a></li>
  					</ul>
				</div>
			</div>
			<input class="pull-right search-input" placeholder="Type here to search" style='height:30px;'></input>
			
			<input class="create-input" style='clear:both' placeholder="Type here to create" ></input>
		</div>
		<div id='incoming-loops-msg' style='display:none'></div>
        <div id='loop-content-view' style='clear:both'>
	
        	<div id="last-saved-msg">
        		<div id="last-saved-msg-inner"></div>
        	</div>
        	<div class='settings-wrapper'>
				<div class='settings-wrapper-inner'></div>
			</div>
        	<div class='content-wrapper'>
        		<div class='main-list-container'></div>
			</div>
        </div>
		</script>
		<script type="text/html" id="loop-item-template">

			<div class='loop-item'>
				<div id="loop-editor-toolbar"></div>
				<div class='loop-wrapper' style="clear:both;margin:5px">
					<div class="loop-top-bar" style="margin-left:5px;margin-top:5px">
						<div class="pull-left">
							<img src="<%= owner.imageUrl %>" style="width:20px" style="position:inline"></img>
							<span class="id-tag"><%- id.substring(0, 5) %> | </span>  
							<span class="last-updated-msg"></span>
						</div>
						<div class='pull-right list-totals-box'>
							<ul>
							</ul>
						</div>
					<div class="btn-group loop-item-button-bar pull-right">
						<button id='loop-edit-button' type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-edit"></span></button>
						<button id='list-settings-button' type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-chevron-right"></span></button>					

					</div>
					</div>
					<div class='loop-content-wrapper' style="clear:both">						
					 	<%= content %>
					</div>

				</div>
				<div class='list-settings-box'>
					<div>
						<button id='save-lists-button' type="button" class="btn btn-success"> 
							<span class="glyphicon glyphicon-ok"> </span> Save
						</button>
						<button id='cancel-lists-button' type="button" class="btn btn-default"> 
							<span class="glyphicon glyphicon-remove"> </span> Cancel
						</button>
						<button id='add-list-setting-item-button' type="button" class="btn btn-default"> 
							<span class="glyphicon glyphicon-plus"> </span> Add
						</button>
					</div>
					<ul>						
					</ul>
						
										

				</div>

				<div class='innerloop-container' style="padding:10px">
					<ul class="list-button-bar nav nav-tabs">
					</ul>
	
					<div class='list-content-wrapper tab-content' style="clear:both"></div>
					
					<!--<input class="innerloop-create-input" placeholder="Type here to create"></input>-->
	
				</div>
			</div>
		</script>
		<script type="text/html" id="innerloop-item-template">
			<div class='innerloop-item'>	
				<div id="innerloop-editor-toolbar"></div>			
				<div class='innerloop'>
					<div class="loop-top-bar" style="margin-left:5px;margin-top:5px">
						<div class="pull-left">
							<img src="<%= owner.imageUrl %>" style="width:20px" style="position:inline"></img>
							<span class="last-updated-msg"></span>
						</div>
					<div class="btn-group loop-item-button-bar pull-right" style='display:none'>
						<button id='innerloop-edit-button' type="button" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-edit"></span></button>
					</div>
				</div>
				<div class='body' style="clear:both">						
					 	<%= content %>
				</div>		
		
			</div>
		</script>
		<script type="text/html" id="innerloop-list-template">
			<div class='filter-box pull-right'>					
				<span class='tab-filter'>
					<input class="filter-input" placeholder="Type here to filter"></input>
				</span>
			</div>
				<ul class='item-list' style='clear:both'></ul>
			<input class="innerloop-create-input" style='clear:both' placeholder="Type here to create" ></input>
		</script>
		<script type="text/html" id="list-setting-item-view-template">
			<span><input class='list-name-input' placeholder="List name"></span>
			<span><input class='list-query-input' placeholder="Query"></span>
			<span><input class='list-comparator-input' placeholder="Comparator"></span>
			<button id='list-order-button' type="button" class="btn btn-default btn-sm"> 
					<span class="glyphicon glyphicon-chevron-up"></span>
			</button>
			<button id='delete-list-button' type="button" class="btn btn-default btn-sm"> 
					<span class="glyphicon glyphicon-remove-sign"></span>
			</button>
		</script>
		<script type="text/html" id="notification-view-template">
			<div id="notify-box" class="btn-group pull-left" style="margin-top:5px;margin-left:10px">
  				<button id='notification-button' type="button" class="btn btn-danger dropdown-toggle  btn-xs" data-toggle="dropdown" style="display:none;">
    				<span id='notification-count'>0</span> <span class="caret"></span>
  				</button>
  				<ul class=" dropdown-menu" role="menu">
    				<li><a href="#"><img src='assets/images/pd.png' style='width:20px;margin:5px'/>'Remember the milk' is overdue</a></li>
    				<li><a href="#"><img src='assets/images/pd.png' style='width:20px;margin:5px'/>You have 5 new emails</a></li>
    				<li class="divider"></li>
    				<li><a href="#/query/@!pd #notification">Show all notifications</a></li>
  				</ul>
			</div>
		</script>
		<script type="text/html" id="notification-item-view-template">	
			<a href="#"><img src='<%= owner.imageUrl %>' style='width:20px;margin:5px'/><%= content %></a>
		</script>
	
	</head>
	<body>
		<div id="loop-container" style="clear:both">			
			<div id="loop-container-inner">			
			</div>
		</div>
		
	</body>
</html>
